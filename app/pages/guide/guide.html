<div class="guide-container" [class.search]="search">
  <div class="dynamic-background">
    <div class="background-color" [ngStyle]="{'background-color':backgroundcolor}"></div>

    <div class="background-image-container">
      <div class="background-images">
        <div class="background-image" *ngFor="let image of backgroundimages; let k = index" [class.show]="scroll_id == k" [ngStyle]="{'background-image':'url('+
        image +')'}"></div>
      </div>
      <div class="background-gradient" [ngStyle]="{'background':'linear-gradient(to top,'+ backgroundcolor +', rgba(14, 14, 12, 0)), linear-gradient(to right, ' + backgroundcolor + ', rgba(14, 14, 12, 0))'}"></div>
    </div>

  </div>

  <section class="guide-grid" #guide *ngIf="shows" (scroll)="scrolling($event)">
    <div class="favorite-shows scroll-groups" *ngIf="user && favoritesToday">
      <h1 class="favorites-h1" [style.color]="fontcolor"><span>Favorite shows on today</span></h1>
      <ul class="guide-grid-items">
        <li class="guide-grid-item" (click)="select_show(show)" *ngFor="let show of shows | filter:favorites">
          <show-card [favorites]="favorites" [show]="show" [fontcolor]="fontcolor" (detail)="goToDetail($event)" (watch)="watch($event)" (unwatch)="unwatch($event)"></show-card>
        </li>
      </ul>

    </div>
    <div id="time_{{i}}" class="show-groups scroll-groups" [style.margin-bottom]="(i == (airtimes.length - 1) && show.value.length < 4) ? '250px': '100px'" *ngFor="let show of shows | groupBy: 'airtime'; let i = index">
      <div class="show-groups-wrapper">
        <h1 class="time-h1" [style.color]="fontcolor">{{show.key}}</h1>
        <ul class="guide-grid-items">
          <li class="guide-grid-item" (click)="select_show(show)" *ngFor="let show of show.value">
            <show-card [favorites]="favorites" [show]="show" [fontcolor]="fontcolor" (detail)="goToDetail($event)" (watch)="watch($event)" (unwatch)="unwatch($event)"></show-card>
          </li>
        </ul>
      </div>
    </div>
    <nav class="nav nav--ubax">
      <button (click)="scrollView('time_'+j,j,time)" class="nav__item" [class.nav__item--current]="scroll_id == j" *ngFor="let time of airtimes; let j = index" [style.background]="fontcolor">
        <span class="nav__item-title" [style.color]="fontcolor">{{time}}</span>
      </button>
    </nav>
  </section>
</div>
